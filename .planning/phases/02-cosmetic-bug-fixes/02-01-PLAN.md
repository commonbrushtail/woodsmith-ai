---
phase: 02-cosmetic-bug-fixes
plan: 01
type: tdd
wave: 1
depends_on: []
files_modified:
  - src/lib/sanitize.js
  - src/app/(admin)/admin/profile/page.jsx
  - src/components/admin/GalleryListClient.jsx
  - tests/lib/sanitize.test.js
  - tests/components/admin/profile.test.js
  - tests/components/admin/gallery-list.test.js
autonomous: true

must_haves:
  truths:
    - "Admin profile page displays company name as plain text with no visible HTML tags"
    - "Gallery list displays sort order starting from 1 (not 0) for user-friendly numbering"
    - "stripHtmlTags utility correctly handles nested tags, self-closing tags, and HTML entities"
    - "All existing 202 tests still pass after fixes (no regressions)"
    - "Production build succeeds (npm run build) after fixes"
  artifacts:
    - path: "src/lib/sanitize.js"
      provides: "stripHtmlTags utility function for converting HTML to plain text"
    - path: "src/app/(admin)/admin/profile/page.jsx"
      provides: "Profile page that strips HTML from company name field before display"
    - path: "src/components/admin/GalleryListClient.jsx"
      provides: "Gallery list that displays sort_order + 1 for user-friendly numbering"
    - path: "tests/lib/sanitize.test.js"
      provides: "Tests for stripHtmlTags covering edge cases (nested tags, entities, empty input)"
    - path: "tests/components/admin/profile.test.js"
      provides: "Tests for profile page HTML stripping behavior"
    - path: "tests/components/admin/gallery-list.test.js"
      provides: "Tests for gallery list order display (1-indexed vs 0-indexed)"
  key_links:
    - from: "src/app/(admin)/admin/profile/page.jsx"
      to: "src/lib/sanitize.js"
      via: "imports and calls stripHtmlTags to clean company name field"
    - from: "src/components/admin/GalleryListClient.jsx"
      to: "display layer"
      via: "transforms sort_order to displayOrder (sort_order + 1) for rendering"
    - from: "tests/lib/sanitize.test.js"
      to: "src/lib/sanitize.js"
      via: "tests stripHtmlTags with edge cases (nested tags, self-closing tags, entities)"
---

<objective>
Fix two cosmetic UI bugs in the admin CMS that display content incorrectly: raw HTML tags in profile fields and confusing 0-indexed numbering in gallery lists.

**Purpose:** Improve admin UX by ensuring profile fields display plain text (not raw HTML) and gallery lists show user-friendly 1-based numbering (not developer-oriented 0-based indexing).

**Output:**
1. `stripHtmlTags()` utility function in `src/lib/sanitize.js` that converts HTML to plain text
2. Updated profile page that strips HTML from company name before display
3. Updated gallery list that displays `sort_order + 1` for user-friendly numbering
4. Test coverage for both fixes including edge cases
5. All existing tests still passing (no regressions)
</objective>

<execution_context>
@C:/Users/commo/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/commo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/STACK.md
@.planning/research/ARCHITECTURE.md
@.planning/research/PITFALLS.md
@.planning/codebase/CONCERNS.md
@.planning/codebase/TESTING.md
@src/app/(admin)/admin/profile/page.jsx
@src/components/admin/GalleryListClient.jsx
@src/lib/sanitize.js
@src/lib/sanitize-html.js
@tests/lib/sanitize.test.js
</context>

<tasks>
<task type="auto">
  <name>Task 1: Write failing tests for both bugs (TDD red phase)</name>
  <files>
    tests/lib/sanitize.test.js
    tests/components/admin/profile.test.js
    tests/components/admin/gallery-list.test.js
  </files>
  <action>
**Step 1.1: Add stripHtmlTags tests to tests/lib/sanitize.test.js**

Add new test suite after existing sanitizeObject tests:

```javascript
describe('stripHtmlTags', () => {
  it('strips simple HTML tags from text', () => {
    expect(stripHtmlTags('<p>Hello World</p>')).toBe('Hello World')
    expect(stripHtmlTags('<b>Bold</b> text')).toBe('Bold text')
  })

  it('strips nested HTML tags', () => {
    expect(stripHtmlTags('<p><b>Nested</b> tags</p>')).toBe('Nested tags')
    expect(stripHtmlTags('<div><span><em>Deep</em></span></div>')).toBe('Deep')
  })

  it('strips self-closing tags', () => {
    expect(stripHtmlTags('Line 1<br/>Line 2')).toBe('Line 1Line 2')
    expect(stripHtmlTags('Image here: <img src="test.jpg" />')).toBe('Image here: ')
  })

  it('handles HTML entities correctly', () => {
    expect(stripHtmlTags('&lt;p&gt;Text&lt;/p&gt;')).toBe('<p>Text</p>')
    expect(stripHtmlTags('A &amp; B')).toBe('A & B')
    expect(stripHtmlTags('&quot;Quoted&quot;')).toBe('"Quoted"')
  })

  it('preserves whitespace between block elements', () => {
    expect(stripHtmlTags('<p>Para 1</p><p>Para 2</p>')).toBe('Para 1Para 2')
    expect(stripHtmlTags('<h1>Title</h1><p>Content</p>')).toBe('TitleContent')
  })

  it('handles empty input', () => {
    expect(stripHtmlTags('')).toBe('')
    expect(stripHtmlTags(null)).toBe('')
    expect(stripHtmlTags(undefined)).toBe('')
  })

  it('handles plain text (no tags)', () => {
    expect(stripHtmlTags('Plain text')).toBe('Plain text')
    expect(stripHtmlTags('Thai text: สวัสดี')).toBe('Thai text: สวัสดี')
  })

  it('strips TipTap default paragraph wrapper', () => {
    expect(stripHtmlTags('<p>Company Name</p>')).toBe('Company Name')
    expect(stripHtmlTags('<p><strong>Bold Company</strong></p>')).toBe('Bold Company')
  })
})
```

**Step 1.2: Create tests/components/admin/profile.test.js**

Create new test file:

```javascript
import { describe, it, expect, vi, beforeEach } from 'vitest'
import { createElement } from 'react'
import { render, screen, waitFor } from '@testing-library/react'

// Mock dependencies
vi.mock('@/lib/actions/profile', () => ({
  getCompanyProfile: vi.fn(),
  updateCompanyProfile: vi.fn(),
}))

vi.mock('@/lib/toast-context', () => ({
  useToast: () => ({ toast: { error: vi.fn(), success: vi.fn() } }),
}))

vi.mock('next/navigation', () => ({
  useRouter: () => ({ refresh: vi.fn(), push: vi.fn() }),
}))

describe('Profile Page - HTML Stripping', () => {
  beforeEach(() => {
    vi.clearAllMocks()
  })

  it('strips HTML tags from company name field', async () => {
    const { getCompanyProfile } = await import('@/lib/actions/profile')
    getCompanyProfile.mockResolvedValue({
      data: {
        companyName: '<p>WoodSmith Co., Ltd.</p>',
        setKey: 'test-key',
        setRecommendedKey: 'test-rec',
        setTip: 'test-tip',
      },
    })

    const ProfilePage = (await import('@/app/(admin)/admin/profile/page.jsx')).default
    render(createElement(ProfilePage))

    await waitFor(() => {
      const input = screen.getByLabelText(/ชื่อบริษัท/)
      expect(input.value).toBe('WoodSmith Co., Ltd.')
      expect(input.value).not.toContain('<p>')
      expect(input.value).not.toContain('</p>')
    })
  })

  it('handles nested HTML tags in company name', async () => {
    const { getCompanyProfile } = await import('@/lib/actions/profile')
    getCompanyProfile.mockResolvedValue({
      data: {
        companyName: '<p><strong>Bold Company</strong> Name</p>',
        setKey: 'key',
        setRecommendedKey: 'rec',
        setTip: 'tip',
      },
    })

    const ProfilePage = (await import('@/app/(admin)/admin/profile/page.jsx')).default
    render(createElement(ProfilePage))

    await waitFor(() => {
      const input = screen.getByLabelText(/ชื่อบริษัท/)
      expect(input.value).toBe('Bold Company Name')
    })
  })

  it('handles plain text company name (no HTML)', async () => {
    const { getCompanyProfile } = await import('@/lib/actions/profile')
    getCompanyProfile.mockResolvedValue({
      data: {
        companyName: 'Plain Company Name',
        setKey: 'key',
        setRecommendedKey: 'rec',
        setTip: 'tip',
      },
    })

    const ProfilePage = (await import('@/app/(admin)/admin/profile/page.jsx')).default
    render(createElement(ProfilePage))

    await waitFor(() => {
      const input = screen.getByLabelText(/ชื่อบริษัท/)
      expect(input.value).toBe('Plain Company Name')
    })
  })
})
```

**Step 1.3: Create tests/components/admin/gallery-list.test.js**

Create new test file:

```javascript
import { describe, it, expect, vi } from 'vitest'
import { createElement } from 'react'
import { render, screen, fireEvent } from '@testing-library/react'

// Mock dependencies
vi.mock('@/lib/toast-context', () => ({
  useToast: () => ({ toast: { error: vi.fn(), success: vi.fn() } }),
}))

vi.mock('next/navigation', () => ({
  useRouter: () => ({ refresh: vi.fn(), push: vi.fn() }),
}))

vi.mock('@/lib/actions/gallery', () => ({
  deleteGalleryItem: vi.fn(),
  toggleGalleryPublished: vi.fn(),
  reorderGalleryItems: vi.fn(),
}))

describe('GalleryListClient - Sort Order Display', () => {
  it('displays sort_order as 1-indexed (first item shows 1, not 0)', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    const galleries = [
      { id: '1', sort_order: 0, caption: 'First', image_url: '/img1.jpg', published: true, created_at: '2024-01-01' },
      { id: '2', sort_order: 1, caption: 'Second', image_url: '/img2.jpg', published: true, created_at: '2024-01-02' },
      { id: '3', sort_order: 2, caption: 'Third', image_url: '/img3.jpg', published: true, created_at: '2024-01-03' },
    ]

    render(createElement(GalleryListClient, { galleries, totalCount: 3 }))

    // First item should display "1" (not "0")
    const firstOrderCell = screen.getAllByText('1')[0]
    expect(firstOrderCell).toBeInTheDocument()

    // Second item should display "2" (not "1")
    const secondOrderCell = screen.getAllByText('2')[0]
    expect(secondOrderCell).toBeInTheDocument()

    // Third item should display "3" (not "2")
    const thirdOrderCell = screen.getAllByText('3')[0]
    expect(thirdOrderCell).toBeInTheDocument()

    // Should NOT display "0" anywhere in order column
    const orderCells = screen.queryByText('0')
    expect(orderCells).not.toBeInTheDocument()
  })

  it('handles empty gallery list without errors', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    render(createElement(GalleryListClient, { galleries: [], totalCount: 0 }))

    expect(screen.getByText(/ไม่พบข้อมูลแกลลอรี่/)).toBeInTheDocument()
  })

  it('handles single gallery item (displays order as 1)', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    const galleries = [
      { id: '1', sort_order: 0, caption: 'Only', image_url: '/img.jpg', published: true, created_at: '2024-01-01' },
    ]

    render(createElement(GalleryListClient, { galleries, totalCount: 1 }))

    const orderCell = screen.getByText('1')
    expect(orderCell).toBeInTheDocument()
  })
})
```

These tests WILL FAIL initially because:
1. `stripHtmlTags` does not exist yet in `src/lib/sanitize.js`
2. Profile page does not strip HTML from companyName
3. Gallery list displays `sort_order` directly (0-indexed) instead of `sort_order + 1`

This is the TDD red phase.
  </action>
  <verify>npm test</verify>
  <done>
3 new test suites created with failing tests:
- tests/lib/sanitize.test.js has stripHtmlTags tests (8 test cases, all failing)
- tests/components/admin/profile.test.js has profile HTML stripping tests (3 test cases, all failing)
- tests/components/admin/gallery-list.test.js has gallery order display tests (3 test cases, all failing)

Total: 14 new failing tests (expected TDD red phase)
  </done>
</task>

<task type="auto">
  <name>Task 2: Implement stripHtmlTags utility and fix both bugs (TDD green phase)</name>
  <files>
    src/lib/sanitize.js
    src/app/(admin)/admin/profile/page.jsx
    src/components/admin/GalleryListClient.jsx
  </files>
  <action>
**Step 2.1: Add stripHtmlTags to src/lib/sanitize.js**

Add the following function at the end of the file (after sanitizeObject):

```javascript
/**
 * Strip all HTML tags from a string, returning only text content.
 * Handles nested tags, self-closing tags, and HTML entities.
 * Uses browser DOMParser in client environment for robust parsing.
 *
 * @param {*} html - HTML string to strip
 * @returns {string} Plain text without HTML tags
 */
export function stripHtmlTags(html) {
  if (!html) return ''
  if (typeof html !== 'string') return ''

  // Use browser DOMParser for robust HTML parsing (client-side)
  if (typeof window !== 'undefined' && window.DOMParser) {
    try {
      const parser = new DOMParser()
      const doc = parser.parseFromString(html, 'text/html')
      return doc.body.textContent || ''
    } catch (err) {
      // Fallback to regex if DOMParser fails
      console.warn('DOMParser failed, using regex fallback:', err)
    }
  }

  // Server-side or fallback: use regex (handles most cases)
  // This regex removes all tags: <tag>, </tag>, <tag/>
  return html.replace(/<[^>]*>/g, '').trim()
}
```

**Why this implementation:**
- Uses browser's DOMParser when available (client-side) for robust HTML entity handling
- Falls back to regex on server or if DOMParser unavailable
- Handles nested tags, self-closing tags, HTML entities correctly
- Returns empty string for null/undefined input
- Preserves Thai characters and special text

**Step 2.2: Fix profile page to strip HTML from company name**

In `src/app/(admin)/admin/profile/page.jsx`:

1. Add import at top (line 5, after other imports):
```javascript
import { stripHtmlTags } from '@/lib/sanitize'
```

2. Update useEffect to strip HTML when loading data (replace lines 53-63):
```javascript
useEffect(() => {
  getCompanyProfile().then(({ data }) => {
    if (data) {
      setCompanyName(stripHtmlTags(data.companyName || ''))
      setSetKey(data.setKey || '')
      setSetRecommendedKey(data.setRecommendedKey || '')
      setSetTip(data.setTip || '')
    }
    setLoading(false)
  })
}, [])
```

**What changed:**
- Line 56: `stripHtmlTags(data.companyName || '')` instead of `data.companyName || ''`
- Strips HTML tags before setting state, so input always displays plain text
- Does NOT change data storage — HTML is still stored in DB, only display is affected

**Step 2.3: Fix gallery list to display 1-indexed order**

In `src/components/admin/GalleryListClient.jsx`:

Replace line 385 (inside the sortedGalleries.map tbody):
```javascript
<td className="px-[10px] py-[10px] text-[13px] text-[#374151]">
  {gallery.sort_order ?? '-'}
</td>
```

With:
```javascript
<td className="px-[10px] py-[10px] text-[13px] text-[#374151]">
  {gallery.sort_order != null ? gallery.sort_order + 1 : '-'}
</td>
```

**What changed:**
- Display `sort_order + 1` to show user-friendly 1-based numbering
- Changed null check from `??` to `!= null` to handle both null and undefined
- Database still stores 0-indexed values (no migration needed)
- Only affects display layer (UI transformation)
- Drag-and-drop reorder logic unchanged (still uses 0-indexed sort_order)

**Also update aria-label on line 381** for consistency:
```javascript
aria-label={`Select gallery ${gallery.sort_order != null ? gallery.sort_order + 1 : '-'}`}
```

And update aria-label on line 408:
```javascript
aria-label={`Actions for gallery ${gallery.sort_order != null ? gallery.sort_order + 1 : '-'}`}
```

**Why both fixes work:**
1. stripHtmlTags utility is robust (uses DOMParser when available, regex fallback)
2. Profile page strips HTML at data load time (before state, before input value)
3. Gallery list transforms display only (DB unchanged, reorder logic unchanged)
4. No database migrations needed
5. No changes to Server Actions needed
  </action>
  <verify>npm test</verify>
  <done>
All 14 new tests now pass (TDD green phase):
- stripHtmlTags tests pass (handles nested tags, entities, edge cases)
- Profile HTML stripping tests pass (company name displays as plain text)
- Gallery order display tests pass (first item shows "1", not "0")
- All 202 existing tests still pass (no regressions)

Total: 216 tests passing
  </done>
</task>

<task type="auto">
  <name>Task 3: Add edge case tests and verify production build</name>
  <files>
    tests/lib/sanitize.test.js
    tests/components/admin/gallery-list.test.js
  </files>
  <action>
**Step 3.1: Add edge case tests to tests/lib/sanitize.test.js**

Add these additional tests to the stripHtmlTags describe block:

```javascript
describe('stripHtmlTags - Edge Cases', () => {
  it('handles malformed HTML gracefully', () => {
    expect(stripHtmlTags('<p>Unclosed tag')).toBe('Unclosed tag')
    expect(stripHtmlTags('Unopened tag</p>')).toBe('Unopened tag')
    expect(stripHtmlTags('<p>Nested <b>without</b closing')).toBe('Nested without closing')
  })

  it('handles multiple consecutive tags', () => {
    expect(stripHtmlTags('<p></p><p></p><p>Text</p>')).toBe('Text')
    expect(stripHtmlTags('<br/><br/><br/>Line')).toBe('Line')
  })

  it('handles mixed content with tags and entities', () => {
    expect(stripHtmlTags('<p>&lt;script&gt;alert()&lt;/script&gt;</p>')).toBe('<script>alert()</script>')
    expect(stripHtmlTags('<b>Bold</b> &amp; <i>Italic</i>')).toBe('Bold & Italic')
  })

  it('handles very long HTML strings', () => {
    const longHtml = '<p>' + 'x'.repeat(10000) + '</p>'
    const result = stripHtmlTags(longHtml)
    expect(result).toBe('x'.repeat(10000))
    expect(result.length).toBe(10000)
  })

  it('handles HTML with attributes', () => {
    expect(stripHtmlTags('<a href="http://example.com">Link</a>')).toBe('Link')
    expect(stripHtmlTags('<img src="image.jpg" alt="Alt text" />')).toBe('')
  })

  it('preserves Thai diacritics and tone marks', () => {
    expect(stripHtmlTags('<p>ภาษาไทย สวัสดี</p>')).toBe('ภาษาไทย สวัสดี')
    expect(stripHtmlTags('<strong>กำหนด</strong> คีย์')).toBe('กำหนด คีย์')
  })

  it('handles script and style tags (already stripped by sanitizeHtml)', () => {
    expect(stripHtmlTags('<p>Safe</p><script>alert()</script>')).toBe('Safealert()')
    expect(stripHtmlTags('<style>body{}</style><p>Text</p>')).toBe('body{}Text')
  })
})
```

**Step 3.2: Add edge case tests to tests/components/admin/gallery-list.test.js**

Add these tests to the GalleryListClient describe block:

```javascript
describe('GalleryListClient - Edge Cases', () => {
  it('handles galleries with null sort_order', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    const galleries = [
      { id: '1', sort_order: null, caption: 'No order', image_url: '/img.jpg', published: true, created_at: '2024-01-01' },
    ]

    render(createElement(GalleryListClient, { galleries, totalCount: 1 }))

    expect(screen.getByText('-')).toBeInTheDocument()
  })

  it('handles galleries with undefined sort_order', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    const galleries = [
      { id: '1', caption: 'No order', image_url: '/img.jpg', published: true, created_at: '2024-01-01' },
    ]

    render(createElement(GalleryListClient, { galleries, totalCount: 1 }))

    expect(screen.getByText('-')).toBeInTheDocument()
  })

  it('maintains correct order after sorting descending', () => {
    const GalleryListClient = require('@/components/admin/GalleryListClient').default
    const galleries = [
      { id: '1', sort_order: 0, caption: 'First', image_url: '/img1.jpg', published: true, created_at: '2024-01-01' },
      { id: '2', sort_order: 1, caption: 'Second', image_url: '/img2.jpg', published: true, created_at: '2024-01-02' },
    ]

    const { container } = render(createElement(GalleryListClient, { galleries, totalCount: 2 }))

    // Click sort header to reverse order
    const sortHeader = screen.getByText(/ORDER.*ลำดับ/)
    fireEvent.click(sortHeader)

    // After descending sort, order should still be 1-indexed (but reversed)
    const orderCells = container.querySelectorAll('tbody td:nth-child(3)')
    expect(orderCells[0].textContent).toBe('2')
    expect(orderCells[1].textContent).toBe('1')
  })
})
```

**Step 3.3: Verify production build succeeds**

Run production build to ensure no build errors:

```bash
npm run build
```

Check for:
- No build errors
- No warnings about unused imports
- No type errors (even though using JavaScript)
- Build output shows successful compilation

**Step 3.4: Run full test suite with coverage**

Run full test suite to verify no regressions:

```bash
npm test
```

Expected results:
- All 216+ tests pass (202 existing + 14 new + edge cases)
- No console warnings during test run
- No hydration errors or React warnings
- Test execution completes without hanging
  </action>
  <verify>npm test && npm run build</verify>
  <done>
All edge case tests pass:
- stripHtmlTags handles malformed HTML, long strings, Thai text, attributes
- Gallery list handles null/undefined sort_order gracefully
- Descending sort maintains 1-indexed display
- Production build succeeds without errors
- All 220+ tests pass (202 existing + 18 new)
- No regressions detected
  </done>
</task>
</tasks>

<verification>
**Overall Success Criteria:**

1. Run all tests and verify 220+ tests pass:
   ```bash
   npm test
   ```
   Expected: All tests pass, including:
   - 8 stripHtmlTags utility tests
   - 7 stripHtmlTags edge case tests
   - 3 profile HTML stripping tests
   - 3 gallery order display tests
   - 3 gallery edge case tests
   - 202 existing tests (no regressions)

2. Run production build:
   ```bash
   npm run build
   ```
   Expected: Build succeeds without errors

3. Manual verification (optional):
   - Navigate to `/admin/profile` in dev mode
   - Enter company name with HTML: `<p><strong>Test Company</strong></p>`
   - Save and reload page
   - Verify input displays: `Test Company` (no HTML tags visible)

   - Navigate to `/admin/gallery`
   - Verify first item shows "Order: 1" (not "Order: 0")
   - Drag items to reorder
   - Verify order numbers update correctly (still 1-indexed)

4. Check console for warnings:
   - No React hydration warnings
   - No "Cannot read property of undefined" errors
   - No unhandled promise rejections

5. Verify files changed:
   ```bash
   git status
   ```
   Expected changes:
   - M src/lib/sanitize.js (added stripHtmlTags)
   - M src/app/(admin)/admin/profile/page.jsx (import and use stripHtmlTags)
   - M src/components/admin/GalleryListClient.jsx (display sort_order + 1)
   - M tests/lib/sanitize.test.js (added 15 tests)
   - A tests/components/admin/profile.test.js (new file, 3 tests)
   - A tests/components/admin/gallery-list.test.js (new file, 6 tests)
</verification>

<success_criteria>
1. **All tests pass:** 220+ tests passing (202 existing + 18 new), no failures, no skipped tests
2. **Production build succeeds:** `npm run build` completes without errors or warnings
3. **Profile page displays plain text:** Company name field shows text content only, no `<p>`, `<strong>`, or other HTML tags visible
4. **Gallery order is 1-indexed:** First gallery item displays "1" (not "0"), second displays "2", etc.
5. **No regressions:** Drag-and-drop reorder still works, profile form submission still works, gallery list filtering/sorting still works
6. **Edge cases handled:** Empty strings, null values, malformed HTML, Thai text all handled gracefully
7. **Code quality:** No eslint errors, no console warnings, imports used, functions documented
</success_criteria>

<output>
After completion, create `.planning/phases/02-cosmetic-bug-fixes/02-01-SUMMARY.md` with:

- Tasks completed: 3 (TDD red, TDD green, edge cases)
- Tests added: 24 total (15 stripHtmlTags + 3 profile + 6 gallery)
- Tests passing: 220+ (202 existing + 18 new)
- Files modified: 3 source files, 3 test files
- Bugs fixed: BUG-04 (Profile HTML display), BUG-05 (Gallery order off-by-one)
- Build status: PASS
- Regressions: None detected
- Duration: [actual execution time]
- Blockers encountered: None
- Next steps: Phase 3 (Hydration Warning Cleanup) or commit and merge
</output>
